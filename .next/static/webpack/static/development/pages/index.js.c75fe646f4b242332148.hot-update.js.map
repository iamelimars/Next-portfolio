{"version":3,"file":"static/webpack/static\\development\\pages\\index.js.c75fe646f4b242332148.hot-update.js","sources":["webpack:///./components/Page.js"],"sourcesContent":["import { PrismicProvider } from './PrismicContext';\r\nimport { useEffect, useState } from 'react'\r\nimport Prismic from 'prismic-javascript';\r\n\r\nconst apiEndpoint = 'https://eli-portfolio.cdn.prismic.io/api/v2';\r\n\r\n//Custom Hook\r\nfunction useProjects() {\r\n    const [projects, setProjects] = useState({\r\n        test: 'initial',\r\n        projects: []\r\n    })\r\n    useEffect(function () {\r\n        (async () => {\r\n            console.log('Mounting or updating');\r\n            // const req = context.req\r\n            const projects = await getProjects()\r\n            const data = projects.results\r\n            // console.log(data);\r\n            setProjects(data);\r\n        })();\r\n    }, []);\r\n    return projects\r\n}\r\n\r\nfunction getProjects() {\r\n    const data = Prismic.api(apiEndpoint)\r\n        .then(api => {\r\n            // console.log(api);\r\n            const proj = api.query(Prismic.Predicates.at('document.type', 'works'), {\r\n                orderings: '[my.works.first_publication_date desc]'\r\n            })\r\n\r\n            // console.log(proj);\r\n            return proj\r\n\r\n        })\r\n        .catch(err => {\r\n            // console.log(err);\r\n\r\n        })\r\n    return data\r\n\r\n    // const API = Prismic.getApi(apiEndpoint)\r\n    // return API.query(Prismic.Predicates.at('document.type', 'works'), {\r\n    //     orderings: '[my.works.first_publication_date desc]'\r\n    // })\r\n}\r\n\r\nexport default function Page({ children }) {\r\n    const projects = useProjects();\r\n    let projectsArray = []\r\n    projectsArray = projects\r\n    return (\r\n        <PrismicProvider value={{\r\n            test: \"test\",\r\n            projects,\r\n        }}>\r\n            <div className=\"page\">\r\n                {children}\r\n            </div>\r\n        </PrismicProvider>\r\n    )\r\n}"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AAEA;AACA;AAEA;AAAA;AAEA;AACA;AAFA;AADA;AAAA;AAAA;AACA;AAIA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAFA;AAAA;AACA;AADA;AAGA;AACA;AACA;AACA;AACA;AAPA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AADA;AACA;AAIA;AAEA;AAIA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;;;;A","sourceRoot":""}