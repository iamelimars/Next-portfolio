{"version":3,"file":"static/webpack/static\\development\\pages\\index.js.2740a5ae0ca295f0c9ab.hot-update.js","sources":["webpack:///./components/Page.js"],"sourcesContent":["import {PrismicProvider} from './PrismicContext';\r\nimport { useEffect, useState } from 'react'\r\nimport Prismic from 'prismic-javascript';\r\n\r\nconst apiEndpoint = 'https://eli-portfolio.cdn.prismic.io/api/v2';\r\n\r\n//Custom Hook\r\nfunction useProjects() {\r\n    const [projects, setProjects] = useState({})\r\n    useEffect(async () => {\r\n        console.log('Mounting or updating');\r\n        const req = context.req\r\n        const projects = await getProjects(req)\r\n        const data = projects.results\r\n        console.log(data);\r\n        setProjects(data);\r\n    }, [])\r\n    return projects\r\n}\r\n\r\nfunction getProjects (req) {        \r\n    const API = Prismic.getApi(apiEndpoint, { req })\r\n    return API.query(Prismic.Predicates.at('document.type', 'works'), {\r\n        orderings: '[my.works.first_publication_date desc]'\r\n    })\r\n  }\r\n\r\nexport default function Page({children}) {\r\n    const projects = useProjects();\r\n    return (\r\n        <PrismicProvider value={{\r\n            projects,\r\n        }}>\r\n            <div className=\"page\">\r\n                {children}\r\n            </div>\r\n        </PrismicProvider>\r\n    )\r\n}"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AAEA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAFA;AAAA;AACA;AADA;AAGA;AACA;AACA;AACA;AACA;AAPA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AADA;AAGA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;;;;A","sourceRoot":""}